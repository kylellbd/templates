<!DOCTYPE html>
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <link rel="import" href="/templates/adm/commCss.html">
    <title>系统运营配置</title>
    <link rel="shortcut icon" href="favicon.ico" />
</head>
<!-- END HEAD -->

<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">
    <div class="page-wrapper">
        <!-- BEGIN HEADER -->
        <div class="page-header navbar navbar-fixed-top">
            <!-- BEGIN HEADER INNER -->
            <div class="page-header-inner ">
                <!-- BEGIN LOGO -->
                <div class="page-logo">
                    <a href="/templates/adm/index.html">
                        <img src="" alt="logo" class="logo-default" /> </a>
                    <div class="menu-toggler sidebar-toggler">
                        <span></span>
                    </div>
                </div>
                <!-- END LOGO -->
                <!-- BEGIN RESPONSIVE MENU TOGGLER -->
                <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">
                    <span></span>
                </a>
                <!-- END RESPONSIVE MENU TOGGLER -->
                <!-- BEGIN TOP NAVIGATION MENU -->
                <div class="top-menu">
                    <ul class="nav navbar-nav pull-right">
                        <!-- END USER LOGIN DROPDOWN -->
                        <!-- BEGIN QUICK SIDEBAR TOGGLER -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                        <li>
                            <p style="color: white">Welcome Loginer</p>
                        </li>
                        <li class="dropdown dropdown-quick-sidebar-toggler">
                            <a href="javascript:;" class="dropdown-toggle">
                                <i class="icon-logout"></i>
                            </a>
                        </li>
                        <!-- END QUICK SIDEBAR TOGGLER -->
                    </ul>
                </div>
                <!-- END TOP NAVIGATION MENU -->
            </div>
            <!-- END HEADER INNER -->
        </div>
        <!-- END HEADER -->
        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            <!-- BEGIN SIDEBAR -->
            <div class="page-sidebar-wrapper">
                <div class="page-sidebar navbar-collapse collapse">
                    <ul id="ul_menu" class="page-sidebar-menu  page-header-fixed " data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200" style="padding-top: 20px">


                    </ul>
                </div>
            </div>
            <!-- END SIDEBAR -->

            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <div class="page-content">
                    <!-- BEGIN PAGE HEADER-->
                    <!-- BEGIN PAGE TITLE-->
                    <h1 class="page-title"> 基本运营配置
                        <small>设置系统运营基础配置数据</small>
                    </h1>
                    <!-- END PAGE TITLE-->
                    <!-- END PAGE HEADER-->
                    <!-- BEGIN DASHBOARD STATS 1-->
                    <div class="clearfix"></div>
                    <!-- END DASHBOARD STATS 1-->
                    <div class="row">
                        <div class="col-md-10">
                            <div class="portlet light form-fit  center">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="icon-social-dribbble"></i>
                                        <span class="caption-subject bold uppercase">基本运营配置</span>
                                    </div>
                                    <div align="right">
                                        <input type="checkbox" class="make-switch" name="SystemSetFormEdit" id="SystemSetFormEdit" data-on-color="success" data-off-color="danger" data-on-text="Edit" data-off-text="ReadOnly">
                                        <button type="button" class="btn blue" id="systemSetSave">Save</button>
                                    </div>
                                </div>
                                <div class="portlet-body form" id="systemDiv">

                                    <div class="tabbable-line">
                                        <ul class="nav nav-tabs ">
                                            <li class="active">
                                                <a href="#tab_normal" data-toggle="tab"> 기본운영 </a>
                                            </li>
                                            <li>
                                                <a href="#tab_special" data-toggle="tab"> 특별관리 </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content" style="padding:0;">
                                            <div class="tab-pane active" id="tab_normal">
                                                <form action="#" class="form-horizontal form-bordered" id="systemNormalForm">
                                                    <div class="form-body">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">거래수수료 발생 시기</label>
                                                            <div class="col-md-3">
                                                                <select class="form-control" id="TradeFeeMode" name="TradeFeeMode" data-key="TradeFeeMode" data-type="SELECT">
                                                                    <!-- <option value="0001">Open</option>
                                                                    <option value="0002">Close</option>
                                                                    <option value="0003">Both</option> -->
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">거래세 발생 시기</label>
                                                            <div class="col-md-3">
                                                                <select class="form-control" id="TradeTaxMode" name="TradeTaxMode" data-key="TradeTaxMode" data-type="SELECT">
                                                                            <!-- <option value="0001">Open</option>
                                                                            <option value="0002">Close</option>
                                                                            <option value="0003">Both</option> -->
                                                                        </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">취급수수료 발생시기</label>
                                                            <div class="col-md-3">
                                                                <select class="form-control" id="MgmtFeeMode" name="MgmtFeeMode" data-key="MgmtFeeMode" data-type="SELECT">
                                                                            <!-- <option value="0001">Open</option>
                                                                            <option value="0002">Close</option>
                                                                            <option value="0003">Both</option> -->
                                                                        </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">Bonus 적용 여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="BonusModeActive" data-on-color="success" data-off-color="danger" data-key="BonusModeActive" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">Vip Mode 적용 여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="VipModeActive" data-on-color="success" data-off-color="danger" data-key="VipModeActive" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">Vip 등급Update(마감)주기</label>
                                                            <div class="col-md-3">
                                                                <select class="form-control" id="VipUpdatePeriod" name="VipUpdatePeriod" data-key="VipUpdatePeriod" data-type="SELECT">
                                                                            <!-- <option value="0001">Day</option>
                                                                            <option value="0002">Week</option>
                                                                            <option value="0003">Month</option> -->
                                                                        </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">입출금 처리 시간</label>
                                                            <div class="col-md-3" style="display: inline-flex;">
                                                                <input class="form-control" style="width: 45%;" id="BankProcessTimeS" type="text" maxlength='5' size="10" data-key="BankProcessTimeS" data-type="TEXT" />~
                                                                <input class="form-control" style="width: 45%;" id="BankProcessTimeE" type="text" maxlength='5' size="10" data-key="BankProcessTimeE" data-type="TEXT" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">비 입출금 처리 시간에 입출금 요청 Rejected 여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="RejectOrNoTAtNoBankTime" data-on-color="success" data-off-color="danger" data-key="RejectOrNoTAtNoBankTime" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <!-- <div class="form-group">
                                                            <label class="control-label col-md-3">RejectOrNoTAtNoBankTime</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" checked name="RejectOrNoTAtNoBankTime" data-on-color="success" data-off-color="danger">
                                                            </div>
                                                        </div> -->
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">일회 충전 최소금액</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="DepositMinMoney" type="text" data-key="DepositMinMoney" data-type="MONEY" data-inputmask="'alias':'currency_normal'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">일회 충전 최대금액</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="DepositMaxMoney" type="text" data-key="DepositMaxMoney" data-type="MONEY" data-inputmask="'alias':'currency_normal'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">개인보유대출 종류 최대수량</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="MaxBrrwCnt" type="text" data-key="MaxBrrwCnt" data-type="INTEGER" data-inputmask="'alias':'leftInteger'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">개인보유 총 대출 최대금액</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="MaxBrrwMoney" type="text" data-key="MaxBrrwMoney" data-type="MONEY" data-inputmask="'alias':'currency_normal'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">대출신청 시 취소담보금</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="OneTimeMinPrincipal" type="text" data-key="OneTimeMinPrincipal" data-type="MONEY" data-inputmask="'alias':'currency_normal'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">거래 처리 시 허용 시세 Delay 최대값(초)</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="RealTimeDelay" type="text" data-key="RealTimeDelay" data-type="INTEGER" data-inputmask="'alias':'leftInteger'" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tab_special">
                                                <form action="#" class="form-horizontal form-bordered" id="systemSpecialForm">
                                                    <div class="form-body">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">LossCut Defualt 설정값(30%)</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="LossCutPcnt" type="text" maxlength='5' data-key="LossCutPcnt" data-type="PERCENT" data-inputmask="'alias':'leftPercent'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">LossCut Defualt 고객 설정가능여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="LossCutCustoms" data-on-color="success" data-off-color="danger" data-key="LossCutCustoms" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">공매매 가능 여부설정</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="ShortSellAllow" data-on-color="success" data-off-color="danger" data-key="ShortSellAllow" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">마진 투자가능여부 설정</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="ProfitInvestActive" data-on-color="success" data-off-color="danger" data-key="ProfitInvestActive" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">OverNight Default 적용여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="OverNight" data-on-color="success" data-off-color="danger" data-key="OverNight" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">담보금 대비 OverNight 가능 뱃수</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="OverNightRate" type="text" data-key="OverNightRate" data-type="INTEGER" data-inputmask="'alias':'leftInteger'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">공매매 Close 시 거래금 반환방식</label>
                                                            <div class="col-md-3">
                                                                <select class="form-control" id="ReturnTypeOfShortOrder" name="ReturnTypeOfShortOrder" data-key="ReturnTypeOfShortOrder" data-type="SELECT">
                                                                                            <!-- <option value="">--선택--</option> -->
                                                                    <!-- <option value="0001">선입선출 방식</option>
                                                                    <option value="0002">후입선출 방식</option>
                                                                    <option value="0003">마진우선 방식</option>
                                                                    <option value="0004">평균가 반환</option>
                                                                    <option value="0005">Close Order가</option> -->
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">공매매 Close 시 거래금 반환방식<br>
                                                                고객 설정가능여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="ReturnTypeOfShortOrderCustoms" data-on-color="success" data-off-color="danger" data-key="ReturnTypeOfShortOrderCustoms" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">OverNight 초과 부분 자동Close시<br>
                                                                Position 처리순서</label>
                                                            <div class="col-md-3">
                                                                <select class="form-control" id="CloseTypeOfOverNightBeyond" name="CloseTypeOfOverNightBeyond" data-key="CloseTypeOfOverNightBeyond" data-type="SELECT">
                                                                    <!-- <option value="">--선택--</option> -->
                                                                    <!-- <option value="0001">선입선출 방식</option>
                                                                    <option value="0002">후입선출 방식</option>
                                                                    <option value="0003">마진우선</option>
                                                                    <option value="0004">손실우선</option> -->
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">OverNight 초과 부분 자동Close시<br>
                                                                Position 처리순서 고객 설정가능여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="CloseTypeOfOverNightCustoms" data-on-color="success" data-off-color="danger" data-key="CloseTypeOfOverNightCustoms" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">대출의 담보금 출금가능여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="GuaranteeWithdraw" data-on-color="success" data-off-color="danger" data-key="GuaranteeWithdraw" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">대출의 담보금 출금 퍼센트</label>
                                                            <div class="col-md-3">
                                                                <input class="form-control" id="GuaranteeWithdrawPcnt" type="text" maxlength='5' data-key="GuaranteeWithdrawPcnt" data-type="PERCENT" data-inputmask="'alias':'leftPercent'" />
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label col-md-3">성명과 은행계좌 일치여부</label>
                                                            <div class="col-md-3">
                                                                <input type="checkbox" class="make-switch" name="BankNameIdentical" data-on-color="success" data-off-color="danger" data-key="BankNameIdentical" data-type="SWITCH">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
        </div>
        <!-- END CONTAINER -->
        <!-- BEGIN FOOTER -->
        <div class="page-footer">
            <div class="page-footer-inner"> 2019 &copy; By Kyle.Moon
            </div>
            <div class="scroll-to-top">
                <i class="icon-arrow-up"></i>
            </div>
        </div>
        <!-- END FOOTER -->
    </div>

    <!--[if lt IE 9]>
<script src="../assets/global/plugins/respond.min.js"></script>
<script src="../assets/global/plugins/excanvas.min.js"></script> 
<script src="../assets/global/plugins/ie8.fix.min.js"></script> 
<![endif]-->
    <link rel="import" href="/templates/adm/commJs.html">

    <script type="text/javascript">
        $(document).ready(function() {

            Comm.init();

            getSelectData();
            getBizData();



            $("#SystemSetFormEdit").on('switchChange.bootstrapSwitch', function(event, state) {
                //这个state就是选择的状态
                if (state) {
                    editable();
                } else {
                    readonly();
                }
            });

            readonly();

            $("#systemSetSave").on('click', function(event, state) {
                var datas = getAllData();
                saveData(datas);
            });

        });

        function saveData(datas) {

            var settings = {
                "async": false,
                "crossDomain": true,
                "url": Comm.getApiUrl() + "/api/Admin/UpOptSettings",
                "method": "POST",
                "headers": Comm.getPostHeader(),
                "data": JSON.stringify(datas)
            }
            $.ajax(settings).done(function(response) {
                console.log(response);
                if (response.Result == 0) {
                    Comm.alert('데이터 변경 성공하였습니다.', 'success');
                } else {
                    Comm.alert(response.errorMsg, 'error');
                }
                getBizData();
                readonly();
                $("#SystemSetFormEdit").bootstrapSwitch("state", false);
            });
        }

        function getBizData() {
            var settings = {
                "async": false,
                "crossDomain": true,
                "url": Comm.getApiUrl() + "/api/Admin/GetOptSettings",
                "method": "GET",
                "headers": Comm.getHeader()
            }

            $.ajax(settings).done(function(response) {
                console.log(response);
                if (response.Result == 0) {
                    var datas = response.Data;
                    setAllData(datas);
                }
            });
        }

        function getSelectData() {
            var settings = {
                "async": false,
                "crossDomain": true,
                "url": Comm.getApiUrl() + "/api/Code/GetCodeInfoByGroups?groudIds=0014,0015,0023,0025",
                "method": "GET",
                "headers": Comm.getHeader()
            }

            $.ajax(settings).done(function(response) {
                console.log(response);
                if (response.Result == 0) {
                    var datas = response.Data;
                    $.each(datas, function(index, data) {
                        if (data.GroupId == '0014') {
                            initSelect("TradeFeeMode", data.Codeinfos);
                            initSelect("TradeTaxMode", data.Codeinfos);
                            initSelect("MgmtFeeMode", data.Codeinfos);
                        }
                        if (data.GroupId == '0015') {
                            initSelect("VipUpdatePeriod", data.Codeinfos);
                        }
                        if (data.GroupId == '0023') {
                            initSelect("ReturnTypeOfShortOrder", data.Codeinfos);
                        }
                        if (data.GroupId == '0025') {
                            initSelect("CloseTypeOfOverNightBeyond", data.Codeinfos);
                        }

                    });
                }
            });
        }

        function initSelect(elementNm, codeList) {
            var optionsHtml = "";
            $.each(codeList, function(index, item) {
                optionsHtml += '<option value="' + item.CODEID + '">' + item.CODEKR + '</option>';
            });
            var element = $(("#" + elementNm));
            element.empty();
            element.append(optionsHtml);
        }

        function editable() {
            $("input[type='text']").each(function(i, ipt) {
                $(ipt).attr("readonly", false);
            });
            $("select").each(function(i, ipt) {
                $(ipt).attr("disabled", false);
            });
            $(".make-switch").each(function() {
                if (this.id != "SystemSetFormEdit") {
                    $(this).bootstrapSwitch("readonly", false);
                }
            });
        }

        function readonly() {
            $("#SystemSetForm").find("input").attr("readonly", true);

            $("select").each(function(i, ipt) {
                $(ipt).attr("disabled", true);
            });

            $("input[type='text']").each(function(i, ipt) {
                $(ipt).attr("readonly", true);
            });

            $(".make-switch").each(function() {
                if (this.id != "SystemSetFormEdit") {
                    $(this).bootstrapSwitch("readonly", true);
                }
            });
        }


        var getAllData = function() {
            var params = [];
            var domItems = $('#systemDiv').find("[data-key]");
            var BankProcessTime = {};
            domItems.each(function(index, item) {
                item = $(item);
                var itemNm = item.attr("data-key");
                var itemType = item.attr("data-type");
                var itemValue;
                switch (itemType) {
                    case "SWITCH":
                        itemValue = item.bootstrapSwitch("state");
                        if (itemValue) {
                            itemValue = 'Y';
                        } else {
                            itemValue = 'N';
                        }
                        break;
                    case "TEXT":
                        itemValue = item.val();
                        if (itemValue == null) {
                            itemValue = "";
                        }
                        break;
                    case "MONEY":
                        itemValue = Inputmask.unmask(item.val(), {
                            alias: "currency"
                        });
                        if (itemValue == null) {
                            itemValue = 0;
                        }
                        break;
                    case "SELECT":
                        itemValue = item.val();
                        break;
                    case "INTEGER":
                        itemValue = item.val();
                        if (itemValue == null || itemValue == "") {
                            itemValue = 0;
                        }
                        break;
                    case "PERCENT":
                        itemValue = Inputmask.unmask(item.val(), {
                            alias: "leftPercent"
                        });
                        // console.log("percent=" + itemValue);
                        if (itemValue == null) {
                            itemValue = 0;
                        }
                        break;
                }
                if (itemNm == 'BankProcessTimeS') {
                    BankProcessTime.OPTKEY = 'BankProcessTime';
                    BankProcessTime.OPTMAINVALUE = itemValue;
                    BankProcessTime.ACTIVE = 'Y';
                } else if (itemNm == 'BankProcessTimeE') {
                    BankProcessTime.OPTKEY = 'BankProcessTime';
                    BankProcessTime.OPTSUBVALUE1 = itemValue;
                    BankProcessTime.ACTIVE = 'Y';
                } else {
                    var param = {};
                    param.OPTKEY = itemNm;
                    param.OPTMAINVALUE = itemValue;
                    param.ACTIVE = 'Y';
                    params.push(param);
                }
            });
            params.push(BankProcessTime);
            return params;

        }

        var setAllData = function(params) {

            $.each(params, function(index, param) {
                var itemNm = param.OPTKEY;
                var element = Comm.getElementByDataKey(itemNm);
                if (itemNm == 'BankProcessTime') {
                    setElementValue($('#BankProcessTimeS'), param.OPTMAINVALUE);
                    setElementValue($('#BankProcessTimeE'), param.OPTSUBVALUE1);
                } else {
                    setElementValue(element, param.OPTMAINVALUE);
                }
            })
        }

        var setElementValue = function(element, itemValue) {
            var item = $(element);

            var itemType = item.attr("data-type");
            switch (itemType) {
                case "SWITCH":
                    if (itemValue == "Y") {
                        item.bootstrapSwitch("state", true);
                    }
                    if (itemValue == "N") {
                        item.bootstrapSwitch("state", false);
                    }
                    break;
                case "TEXT":
                    item.val(itemValue);
                    break;
                case "MONEY":
                    itemValue = Inputmask.format(itemValue, {
                        alias: "currency_normal"
                    });
                    item.val(itemValue);
                    break;
                case "SELECT":
                    item.val(itemValue);
                    break;
                case "INTEGER":
                    item.val(itemValue);
                    break;
                case "PERCENT":
                    itemValue = Inputmask.format(itemValue, {
                        alias: "leftPercent"
                    });
                    item.val(itemValue);
                    break;
                case "HTML":
                    item.empty();
                    item.html(itemValue);
                    break;
            }
        }
    </script>
</body>

</html>